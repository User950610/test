<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iStore | iPhone 17 & More Premium</title>
    <style>
        :root {
            --bg-gray: #F5F5F7;
            --text-black: #1D1D1F;
            --text-gray: #86868B;
            --apple-blue: #0066CC;
            --white: #FFFFFF;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "SF Pro Display", "Helvetica Neue", "Microsoft JhengHei", sans-serif; }
        body { background-color: var(--white); color: var(--text-black); line-height: 1.5; overflow-x: hidden; }

        /* Â∞éË¶ΩÂàó */
        header {
            background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(20px);
            padding: 15px 50px; display: flex; justify-content: space-between;
            align-items: center; border-bottom: 1px solid #d2d2d7;
            position: sticky; top: 0; z-index: 1000;
        }
        .logo { font-size: 20px; font-weight: 600; cursor: pointer; }
        .nav-links span { margin-left: 25px; cursor: pointer; font-size: 14px; transition: 0.3s; }
        .nav-links span.active { color: var(--apple-blue); font-weight: 600; }

        /* È¶ñÈ†Å Banner */
        #home-page { text-align: center; padding: 120px 20px; background: var(--bg-gray); transition: 0.5s; }
        .hero-title { font-size: 64px; font-weight: 600; margin-bottom: 15px; letter-spacing: -1px; }
        .hero-subtitle { font-size: 24px; color: var(--text-gray); margin-bottom: 40px; }
        .hero-btn { 
            background: var(--apple-blue); color: white; padding: 12px 35px; 
            border-radius: 30px; text-decoration: none; font-weight: 500; cursor: pointer; border: none; font-size: 16px;
        }

        /* ÂïÜÂ∫ó‰∏ªÂÆπÂô® */
        .container { display: flex; max-width: 1200px; margin: 50px auto; padding: 0 20px; min-height: 600px; }
        
        /* Â∑¶ÂÅ¥ÈÅ∏ÂñÆ */
        aside { width: 220px; flex-shrink: 0; }
        aside h3 { font-size: 14px; color: var(--text-gray); margin-bottom: 25px; text-transform: uppercase; letter-spacing: 1px; }
        aside ul { list-style: none; }
        aside li { margin-bottom: 18px; cursor: pointer; font-size: 15px; transition: 0.2s; color: var(--text-black); }
        aside li:hover { color: var(--apple-blue); }

        /* Âè≥ÂÅ¥ÂàóË°® */
        main { flex-grow: 1; margin-left: 60px; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 40px; }
        
        /* ÂïÜÂìÅÂç°Áâá */
        .product-card {
            background: var(--bg-gray); padding: 40px 20px; border-radius: 18px; text-align: center;
            transition: 0.4s ease; cursor: pointer;
        }
        .product-card:hover { transform: translateY(-10px); background: #eee; box-shadow: 0 20px 40px rgba(0,0,0,0.05); }
        .product-img { font-size: 60px; margin-bottom: 20px; display: block; }
        .product-name { font-size: 18px; font-weight: 600; margin-bottom: 10px; }
        .product-price-label { font-size: 14px; color: var(--text-gray); }

        /* ÂΩàÁ™ó Modal */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 2000; justify-content: center; align-items: center;
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background: white; padding: 50px; border-radius: 30px; max-width: 800px; width: 90%;
            position: relative; display: flex; gap: 40px; align-items: center;
        }
        .close-btn { position: absolute; top: 25px; right: 30px; cursor: pointer; font-size: 28px; color: var(--text-gray); }
        .modal-info { flex: 1; }
        .modal-info h2 { font-size: 32px; margin-bottom: 15px; }
        .modal-desc { color: var(--text-gray); margin-bottom: 25px; line-height: 1.6; font-size: 15px; }
        
        .spec-label { font-size: 14px; font-weight: 600; margin-bottom: 10px; display: block; }
        .spec-select {
            width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #d2d2d7;
            font-size: 16px; margin-bottom: 30px; outline: none; background: white;
        }

        .hidden { display: none !important; }

        /* --- ÈüøÊáâÂºè RWD Ê†∏ÂøÉ‰ª£Á¢º --- */
        @media (max-width: 992px) {
            header { padding: 15px 20px; }
            .hero-title { font-size: 48px; }
            main { margin-left: 30px; }
        }

        @media (max-width: 768px) {
            header { flex-direction: column; padding: 15px; }
            .nav-links { margin-top: 15px; width: 100%; justify-content: space-between; display: flex; }
            .nav-links span { margin-left: 0; font-size: 13px; }

            .hero-title { font-size: 36px; }
            .hero-subtitle { font-size: 18px; }

            .container { flex-direction: column; margin-top: 20px; }
            aside { width: 100%; margin-bottom: 25px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
            aside ul { display: flex; overflow-x: auto; gap: 15px; white-space: nowrap; padding-bottom: 10px; }
            aside li { margin-bottom: 0; flex-shrink: 0; }
            
            main { margin-left: 0; }
            .product-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
            
            .modal-content { flex-direction: column; padding: 30px 20px; text-align: center; overflow-y: auto; max-height: 90vh; }
            #modal-img { font-size: 80px; flex: 0 0 auto; margin-bottom: 15px; }
        }

        @media (max-width: 480px) {
            .product-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo" onclick="showHome()">iStore Select</div>
        <div class="nav-links">
            <span id="nav-home" class="active" onclick="showHome()">È¶ñÈ†Å</span>
            <span id="nav-iphone" onclick="switchPage('iPhone')">iPhone</span>
            <span id="nav-acc" onclick="switchPage('ÈÖç‰ª∂')">Âë®ÈÇäÈÖç‰ª∂</span>
            <span style="font-weight: 600;">üõí (<span id="cart-count">0</span>)</span>
        </div>
    </header>

    <section id="home-page">
        <h1 class="hero-title">iPhone 17 Pro</h1>
        <p class="hero-subtitle">Èà¶ÈáëÂ±¨ÔºåÂº∑Â§ßÁôªÂ†¥„ÄÇ</p>
        <button class="hero-btn" onclick="switchPage('iPhone')">Á´ãÂç≥ÈÅ∏Ë≥º</button>
    </section>

    <div id="shop-container" class="container hidden">
        <aside id="sidebar"></aside>
        <main>
            <div class="product-grid" id="product-list"></div>
        </main>
    </div>

    <div id="product-modal" class="modal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="close-btn" onclick="closeModal()">√ó</span>
            <div id="modal-img">üì±</div>
            <div class="modal-info">
                <h2 id="modal-name">Áî¢ÂìÅÂêçÁ®±</h2>
                <p id="modal-desc" class="modal-desc"></p>
                <label class="spec-label">ÈÅ∏ÊìáÂÆπÈáè</label>
                <select id="modal-spec-select" class="spec-select" onchange="updateModalPrice()"></select>
                <div id="modal-price" style="font-size: 24px; font-weight: 600; margin-bottom: 30px;">NT$0</div>
                <button class="hero-btn" style="width: 100%;" onclick="addToCart();">Âä†ÂÖ•Ë≥ºÁâ©Ëªä</button>
            </div>
        </div>
    </div>

    <script>
        const db = {
            iphone: [
                { id: 171, name: "iPhone 17 Pro Max", series: "iPhone 17", desc: "Êê≠Ëºâ A19 Pro Êô∂ÁâáÔºåÈà¶ÈáëÂ±¨Ê°ÜÊû∂ÔºåÊîØÊè¥Âè≤‰∏äÊúÄÂº∑Â§ßÁöÑËÆäÁÑ¶Áõ∏Ê©ü„ÄÇ", specs: [{gb: "256GB", price: 44900}, {gb: "1TB", price: 58900}] },
                { id: 172, name: "iPhone 17 Pro", series: "iPhone 17", desc: "Pro Á¥öÊïàËÉΩÔºåÂÆåÁæéÂ§ßÂ∞èËàáÊâãÊÑüÁöÑÁµêÂêà„ÄÇ", specs: [{gb: "128GB", price: 36900}, {gb: "512GB", price: 43900}] },
                { id: 161, name: "iPhone 16 Pro", series: "iPhone 16", desc: "ÂçìË∂äÁöÑÂΩ±ÁâáÊãçÊîùÔºåÊ≤ôÊº†Èà¶ÈáëÂ±¨ÈôêÂÆöËâ≤„ÄÇ", specs: [{gb: "128GB", price: 36900}, {gb: "256GB", price: 40400}] },
                { id: 151, name: "iPhone 15", series: "iPhone 15", desc: "Â§öÂΩ©ÁüΩËÜ†ÊâãÊÑüÔºåÈùàÂãïÂ≥∂ÂäüËÉΩÊê≠Ëºâ„ÄÇ", specs: [{gb: "128GB", price: 24900}] },
                { id: 111, name: "iPhone 11", series: "iPhone 11", desc: "Á∂ìÂÖ∏Ë∂ÖÂÄº‰πãÈÅ∏ÔºåÈõôÈè°È†≠ÊîùÂΩ±Á≥ªÁµ±„ÄÇ", specs: [{gb: "64GB", price: 13900}, {gb: "128GB", price: 15500}] }
            ],
            accessories: [
                { id: 201, name: "MagSafe ÂÖÖÈõªÂô®", type: "power", desc: "Á£ÅÂê∏ÁÑ°Á∑öÂÖÖÈõªÔºåÈõªÂäõË£úÁµ¶Êõ¥Êñπ‰æø„ÄÇ", specs: [{gb: "Ê®ôÊ∫ñË¶èÊ†º", price: 1290}] },
                { id: 203, name: "AirPods Pro", type: "audio", desc: "‰∏ªÂãïÂºèÈôçÂô™ÔºåÊâìÈÄ†Ê≤âÊµ∏Èü≥Ë®ä„ÄÇ", specs: [{gb: "USB-C", price: 7490}] }
            ]
        };

        function showHome() {
            document.getElementById('home-page').classList.remove('hidden');
            document.getElementById('shop-container').classList.add('hidden');
            updateActiveNav('nav-home');
        }

        function switchPage(page) {
            document.getElementById('home-page').classList.add('hidden');
            document.getElementById('shop-container').classList.remove('hidden');
            updateActiveNav(page === 'iPhone' ? 'nav-iphone' : 'nav-acc');
            renderSidebar(page);
            renderProducts(page, 'ÂÖ®ÈÉ®');
        }

        function updateActiveNav(id) {
            document.querySelectorAll('.nav-links span').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function renderSidebar(page) {
            const sidebar = document.getElementById('sidebar');
            if (page === 'iPhone') {
                const list = ["iPhone 17", "iPhone 16", "iPhone 15", "iPhone 11"];
                sidebar.innerHTML = `<h3>Ê≠∑‰ª£Ê©üÂûã</h3><ul><li onclick="renderProducts('iPhone', 'ÂÖ®ÈÉ®')">ÊâÄÊúâÊ©üÂûã</li>${list.map(s => `<li onclick="renderProducts('iPhone', '${s}')">${s} Á≥ªÂàó</li>`).join('')}</ul>`;
            } else {
                sidebar.innerHTML = `<h3>È°ûÂà•</h3><ul><li onclick="renderProducts('ÈÖç‰ª∂', 'ÂÖ®ÈÉ®')">ÂÖ®ÈÉ®</li><li onclick="renderProducts('ÈÖç‰ª∂', 'power')">ÈõªÊ∫ê</li><li onclick="renderProducts('ÈÖç‰ª∂', 'audio')">Èü≥Ë®ä</li></ul>`;
            }
        }

        function renderProducts(page, filter) {
            const list = document.getElementById('product-list');
            let data = page === 'iPhone' ? db.iphone : db.accessories;
            if (filter !== 'ÂÖ®ÈÉ®') data = data.filter(p => p.series === filter || p.type === filter);
            list.innerHTML = data.map(p => `
                <div class="product-card" onclick="openModal(${p.id}, '${page}')">
                    <span class="product-img">${page === 'iPhone' ? 'üì±' : 'üîå'}</span>
                    <div class="product-name">${p.name}</div>
                    <div class="product-price-label">Ëµ∑ÂÉπ NT$${p.specs[0].price.toLocaleString()}</div>
                </div>
            `).join('');
        }

        function openModal(id, page) {
            const data = page === 'iPhone' ? db.iphone : db.accessories;
            const p = data.find(item => item.id === id);
            document.getElementById('modal-name').innerText = p.name;
            document.getElementById('modal-desc').innerText = p.desc;
            document.getElementById('modal-img').innerText = page === 'iPhone' ? 'üì±' : 'üîå';
            const select = document.getElementById('modal-spec-select');
            select.innerHTML = p.specs.map(s => `<option value="${s.price}">${s.gb}</option>`).join('');
            updateModalPrice();
            document.getElementById('product-modal').style.display = 'flex';
        }

        function updateModalPrice() {
            const price = parseInt(document.getElementById('modal-spec-select').value);
            document.getElementById('modal-price').innerText = "NT$ " + price.toLocaleString();
        }

        function closeModal() { document.getElementById('product-modal').style.display = 'none'; }

        function addToCart() {
            const count = document.getElementById('cart-count');
            count.innerText = parseInt(count.innerText) + 1;
            alert("ÊàêÂäüÂä†ÂÖ•Ë≥ºÁâ©ËªäÔºÅ");
            closeModal();
        }

        showHome(); // ÂàùÂßãÈ°ØÁ§∫
    </script>
</body>
</html>